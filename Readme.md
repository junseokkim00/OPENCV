# Learning OpenCV

URL: https://www.youtube.com/watch?v=oXlwWbU8l2o&t=3429s

## introduction

    ìœ íŠœë¸Œë¥¼ í†µí•´ì„œ Pythonì—ì„œ ì œê³µí•˜ëŠ” OpenCVë¥¼ ë°°ìš´ ë‚´ìš©ì„ ì •ë¦¬í•  ê²ƒì´ë‹¤.


    ```
    * ë§¤ì¼ë§¤ì¼ ì •ë¦¬í•  ê²ƒ
    * ë§¤ì¼ë§ˆë‹¤ ì†Œë‹¨ì› í•˜ë‚˜ì”©ì€ ê³µë¶€í•˜ê¸°
    * gitì—ì„œ ì˜¬ë¦¬ëŠ”ê±° ê¹Œë¨¹ì§€ ì•Šê¸°

    ```
    ì´ì œ ë‚˜ë§Œ ì—´ì‹¬íˆ í•˜ë©´ ëœë‹¤. í™”ì´ë¦¥~ ğŸ™ƒ

## 2021/07/08

## **contour detection**

    contourì€ ì¼ì¢…ì˜ ëª¨ì„œë¦¬ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤. ê·¸ë˜ì„œ ì´ ì˜ìƒì—ì„œëŠ” contourì„ ì–´ë–»ê²Œ ì°¾ê²Œ ë˜ëŠ”ì§€ì— ëŒ€í•´ì„œ ì£¼ìš”ì ìœ¼ë¡œ ë‹¤ë£¨ê³  ìˆë‹¤.

    ëª¨ì„œë¦¬ì˜ ê°œìˆ˜ê°€ ì´ë¯¸ì§€ì— ì–´ë–¤ ë³€í™”ë¥¼ ì£¼ëƒì— ë”°ë¼ ë‹¬ë¼ì§€ê¸° ë•Œë¬¸ì— grayscaleê³¼ blurì„ ì‹œí‚¨ ê²ƒì„ ê°€ì§€ê³  ë¹„êµí•´ë³¼ ê²ƒì´ë‹¤.

**ì²«ë²ˆì§¸ Canny**

    > cv2.Canny("ì‚¬ìš©í•˜ë ¤ëŠ” ì´ë¯¸ì§€ í–‰ë ¬ê°’", ìµœì†Œ threshold, ìµœëŒ€ threshold)

    cannyë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ë‘ ê°€ì§€ì˜ thresholdë¥¼ ì¡ì•„ì£¼ê²Œ ëœë‹¤. 
    min thresholdëŠ” maxthresholdë³´ë‹¤ëŠ” ì‘ê³  min thresholdë³´ë‹¤ ë†’ì€ í”½ì…€ì— ëŒ€í•´ì„œ ì‘ë™ì„ í•˜ê²Œ ë˜ë©° ì´ë•ŒëŠ” ì•½í•œ edgeë¥¼ êµ¬í˜„í•˜ê²Œ ëœë‹¤. 
    max thresholdëŠ” í”½ì…€ ê°’ ì¤‘ max thresholdê°€ ì´ ê°’ì„ ë„˜ê²Œ ë˜ë©´ ê°•í•œ edgeë¥¼ êµ¬í˜„í•˜ê²Œ ëœë‹¤.

**ë‘ë²ˆì§¸ threshold**

     > ret, thresh = cv.threshold("íŒë‹¨í•˜ë ¤ëŠ” ì´ë¯¸ì§€ í–‰ë ¬ê°’",threshold, ë°”ë€ŒëŠ” ê°’, ë°”ê¾¸ëŠ” í˜•íƒœ)


    - ìµœì†Œ thresholdë¥¼ ë„˜ìœ¼ë©´ ê·¸ í”½ì…€ì€ ë°”ë€ŒëŠ” ê°’ìœ¼ë¡œ ë°”ë€œ, ë„˜ì§€ ëª»í•˜ë©´ 0
    - ë°”ê¾¸ëŠ” í˜•íƒœëŠ” ëŒ€í‘œì ìœ¼ë¡œ binary í˜•íƒœê°€ ìˆìŒ
    - ë°”ë€ í–‰ë ¬ì„ threshì— ì €ì¥
    _- retì€ ì•„ì§ì€ ëª¨ë¦„_


**cv2.findContours & cv2.drawContours **

    > contours, hierarchies = cv2.findContours( "í–‰ë ¬ê°’" , ì½ì–´ë“¤ì¼ í–‰ë ¬ í˜•íƒœ , ì²˜ë¦¬ í˜•íƒœ )

    - ì½ì–´ë“¤ì¼ í–‰ë ¬ í˜•íƒœë¡œëŠ” RETR_LIST, RETR_TREE, RETR_EXTERNALì´ ì¡´ì¬
    - ì²˜ë¦¬ í˜•íƒœë¡œëŠ”  CHAIN_APPROX_NONE, CHAIN_APPROX_SIMPLEì´ ì¡´ì¬í•¨
    - ì½ì–´ë“¤ì¸ í–‰ë ¬ì€ contoursì— ì €ì¥
    - ìƒˆë¡œìš´ í–‰ë ¬ì„ ì½ì–´ë“¤ì´ë©´ì„œ ìƒê¸´ hierachy ì •ë³´ëŠ” hierarchiesì— ì €ì¥

    > cv2.drawContours(í–‰ë ¬ê°’, ê·¸ë¦´ í–‰ë ¬ê°’, ë²”ìœ„, ìƒ‰ìƒ, êµµê¸°)
    - ë²”ìœ„ë¥¼ -1ë¡œ ì¡ìœ¼ë©´ ì „ë¶€ ì¡í˜




## color spaces

    ì´ 5 ê°€ì§€ ë°©ì‹ì´ ì¡´ì¬í•¨
    - bgr: opencvì—ì„œ ë‹¤ë£° ë•Œ ê°€ì¥ ê¸°ë³¸ì ì¸ íŒ”ë ˆíŠ¸
    - gray: ëª¨ë“  ê°’ì´ íšŒìƒ‰ìœ¼ë¡œ í‘œí˜„ë¨
    - hsv: 
    - lab: l*a+b
    - rgb: ì‚¬ëŒë“¤ì´ ì‚¬ìš©í•˜ëŠ” ì–‘ì‹

    cv2.cvtcolorì„ ì´ìš©í•´ì„œ color spacesë¥¼ ë³€í™˜í•  ìˆ˜ ìˆìŒ(ë¬¼ë¡  ëª‡ ê°€ì§€ ì¢…ë¥˜ëŠ” ë°”ë¡œ ê°€ëŠ¥í•˜ì§€ëŠ” ì•ŠìŒ)

    ex) cv2.cvtcolor(img, cv.COLOR_BGR2GRAY): imgë¥¼ bgrì—ì„œ grayscaleë¡œ ë°”ê¾¼ë‹¤ëŠ” ì˜ë¯¸

## color channel

ëª¨ë“  ì´ë¯¸ì§€ëŠ” blue green redë¥¼ ê°€ì§€ê³  ìˆìŒ

**cv2.split**

    > b, g, r = cv.split(img)

    cv2.splitì„ ì´ìš©í•˜ì—¬ ì‚¬ì§„ì˜ bgrë¥¼ ë‚˜ëˆŒ ìˆ˜ ìˆìŒ

    cv2.imshowë¥¼ í•˜ê²Œ ë˜ì—ˆì„ ë•Œ ê° ì‚¬ì§„ì€ íšŒìƒ‰ìœ¼ë¡œ ë‚˜ì˜¤ê²Œ ë¨

    splitì„ í†µí•´ ì–»ì€ ê° ì´ë¯¸ì§€ í–‰ë ¬ì„ ì‚´í´ë³´ë©´ ê¸°ì¡´ ì‚¬ì§„ê³¼ ë‹¤ë¥¸ ì ì€ shape ë°°ì—´ì˜ ì›ì†Œ ê°œìˆ˜ì´ë‹¤.

    ê¸°ì¡´ imgì˜ ì›ì†Œ: (ë†’ì´, ë„ˆë¹„, ìƒ‰ìƒê°œìˆ˜)

    ê° color channelì˜ ì›ì†Œ: (ë†’ì´, ë„ˆë¹„)

    ì´ìœ ëŠ” ê° color channel í–‰ë ¬ì€ í•˜ë‚˜ì˜ ìƒ‰ìƒì´ë¯€ë¡œ ì„¸ë²ˆì§¸ ì›ì†Œê°€ 1ì´ì§€ë§Œ ìƒëµëœ ê²ƒì´ë‹¤.

**cv2.merge**

    cv2.mergeë¥¼ í†µí•´ í•©ì¹  ìˆ˜ ìˆë‹¤. merge í•¨ìˆ˜ì—ì„œëŠ” ë°°ì—´ì„ íŒŒë¼ë¯¸í„°ë¡œ ë°›ìœ¼ë©° ê¼­ í–‰ë ¬ì´ ì„¸ê°€ì§€ì—¬ì•¼í•œë‹¤.

    > merged = cv.merge([b,g,r])

    ì´ë•Œ ë¬´ì¡°ê±´ í–‰ë ¬ì˜ í•©ì„± ìˆœì„œëŠ” blue, green, redì—¬ì•¼í•œë‹¤.



## Blurring

